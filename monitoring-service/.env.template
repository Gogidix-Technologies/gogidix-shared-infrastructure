# Monitoring Service Environment Configuration Template
# Copy this file to .env and update the values for your environment

# Service Configuration
SERVER_PORT=8090
SPRING_PROFILES_ACTIVE=dev
SERVICE_NAME=monitoring-service

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=monitoring_db
DB_USERNAME=monitoring_user
DB_PASSWORD=secure_password
DB_SSL=false
DB_POOL_SIZE=10

# Prometheus Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_HOST=localhost
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_STORAGE_PATH=/prometheus-data
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_EVALUATION_INTERVAL=15s

# Grafana Configuration
GRAFANA_ENABLED=true
GRAFANA_HOST=localhost
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_DATABASE_TYPE=postgres
GRAFANA_DATABASE_HOST=localhost
GRAFANA_DATABASE_PORT=5432
GRAFANA_DATABASE_NAME=grafana_db
GRAFANA_DATABASE_USER=grafana_user
GRAFANA_DATABASE_PASSWORD=grafana_password

# InfluxDB Configuration (Time Series Database)
INFLUXDB_ENABLED=true
INFLUXDB_HOST=localhost
INFLUXDB_PORT=8086
INFLUXDB_DATABASE=monitoring
INFLUXDB_USERNAME=influx_user
INFLUXDB_PASSWORD=influx_password
INFLUXDB_RETENTION_POLICY=30d

# ElasticSearch Configuration (for logs)
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=elastic_password
ELASTICSEARCH_INDEX_PREFIX=exalt-logs

# Jaeger Configuration (for tracing)
JAEGER_ENABLED=true
JAEGER_HOST=localhost
JAEGER_PORT=14268
JAEGER_COLLECTOR_ENDPOINT=http://localhost:14268/api/traces
JAEGER_QUERY_HOST=localhost
JAEGER_QUERY_PORT=16686

# Zipkin Configuration (alternative tracing)
ZIPKIN_ENABLED=false
ZIPKIN_HOST=localhost
ZIPKIN_PORT=9411
ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans

# Alert Manager Configuration
ALERTMANAGER_ENABLED=true
ALERTMANAGER_HOST=localhost
ALERTMANAGER_PORT=9093
ALERTMANAGER_WEBHOOK_URL=https://api.exalt.com/webhooks/alerts

# Notification Configuration
SLACK_ENABLED=true
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts
EMAIL_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=alerts@exalt.com
SMTP_PASSWORD=email_password
ALERT_EMAIL_TO=admin@exalt.com

# Metrics Collection Configuration
METRICS_RETENTION_DAYS=30
METRICS_SCRAPE_TIMEOUT=10s
METRICS_SCRAPE_INTERVAL=15s
HIGH_FREQUENCY_METRICS_INTERVAL=5s

# Log Aggregation Configuration
LOG_RETENTION_DAYS=30
LOG_LEVEL_FILTER=INFO
LOG_RATE_LIMIT_PER_SECOND=1000
LOG_PARSING_ENABLED=true

# Trace Configuration
TRACE_RETENTION_DAYS=7
TRACE_SAMPLING_RATE=0.1
TRACE_MAX_SPANS_PER_TRACE=1000

# Performance Monitoring Configuration
APM_ENABLED=true
PERFORMANCE_BASELINE_CPU=70
PERFORMANCE_BASELINE_MEMORY=80
PERFORMANCE_BASELINE_RESPONSE_TIME_MS=200

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
DEPENDENCY_HEALTH_CHECK_ENABLED=true

# Security Configuration
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRES_IN=24h
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
API_KEY_ENABLED=true
API_KEY=your-monitoring-api-key

# Cache Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=9
CACHE_TTL_SECONDS=300

# Dashboard Configuration
DEFAULT_DASHBOARD_REFRESH_INTERVAL=30s
DASHBOARD_AUTO_REFRESH=true
DASHBOARD_THEME=dark
MAX_DASHBOARD_PANELS=50

# Alert Rules Configuration
ALERT_RULES_ENABLED=true
ALERT_RULES_RELOAD_INTERVAL=5m
CRITICAL_ALERT_THRESHOLD=95
WARNING_ALERT_THRESHOLD=80

# Data Storage Configuration
METRICS_STORAGE_ENGINE=prometheus
LOGS_STORAGE_ENGINE=elasticsearch
TRACES_STORAGE_ENGINE=jaeger
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6

# Service Discovery
EUREKA_SERVER_URL=http://localhost:8761/eureka
EUREKA_INSTANCE_HOSTNAME=localhost
SERVICE_DISCOVERY_ENABLED=true

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=2000

# Logging Configuration
LOG_LEVEL=INFO
LOG_LEVEL_MONITORING=DEBUG
LOG_PATTERN_CONSOLE=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/monitoring.log

# Performance Configuration
CONNECTION_POOL_SIZE=20
CONNECTION_TIMEOUT_MS=5000
READ_TIMEOUT_MS=10000
QUERY_TIMEOUT_MS=30000

# JVM Configuration
JAVA_OPTS=-Xmx2g -Xms1g -XX:+UseG1GC -XX:MaxGCPauseMillis=200