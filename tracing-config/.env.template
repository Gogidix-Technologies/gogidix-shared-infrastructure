# Tracing Configuration Service Environment Configuration Template
# Copy this file to .env and update the values for your environment

# Service Configuration
SERVER_PORT=8093
SPRING_PROFILES_ACTIVE=dev
SERVICE_NAME=tracing-config

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tracing_config_db
DB_USERNAME=tracing_user
DB_PASSWORD=secure_password
DB_SSL=false
DB_POOL_SIZE=10

# Jaeger Configuration
JAEGER_ENABLED=true
JAEGER_COLLECTOR_ENDPOINT=http://localhost:14268/api/traces
JAEGER_QUERY_ENDPOINT=http://localhost:16686
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLER_TYPE=probabilistic
JAEGER_SAMPLER_PARAM=0.1

# Zipkin Configuration
ZIPKIN_ENABLED=false
ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans
ZIPKIN_SAMPLER_PROBABILITY=0.1

# OpenTelemetry Configuration
OTEL_ENABLED=true
OTEL_EXPORTER_JAEGER_ENDPOINT=http://localhost:14250
OTEL_EXPORTER_ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans
OTEL_RESOURCE_ATTRIBUTES=service.name=exalt-ecosystem
OTEL_METRICS_ENABLED=true
OTEL_LOGS_ENABLED=true

# Distributed Tracing Configuration
TRACE_SAMPLING_RATE=0.1
TRACE_MAX_SPANS_PER_TRACE=1000
TRACE_SPAN_TIMEOUT_SECONDS=30
TRACE_BATCH_SIZE=100
TRACE_EXPORT_TIMEOUT_SECONDS=30

# Span Storage Configuration
SPAN_STORAGE_TYPE=elasticsearch
SPAN_RETENTION_DAYS=7
SPAN_INDEX_PREFIX=jaeger-span
SPAN_COMPRESSION_ENABLED=true

# ElasticSearch Configuration (for span storage)
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=elastic_password
ELASTICSEARCH_INDEX_SHARDS=3
ELASTICSEARCH_INDEX_REPLICAS=1

# Cassandra Configuration (alternative span storage)
CASSANDRA_ENABLED=false
CASSANDRA_HOSTS=localhost
CASSANDRA_PORT=9042
CASSANDRA_KEYSPACE=jaeger_v1_dc1
CASSANDRA_DATACENTER=dc1

# Memory Storage Configuration (for development)
MEMORY_STORAGE_ENABLED=false
MEMORY_MAX_TRACES=10000

# Sampling Configuration
ADAPTIVE_SAMPLING_ENABLED=true
SAMPLING_STRATEGIES_FILE=/app/config/sampling_strategies.json
SAMPLING_REFRESH_INTERVAL=60
DEFAULT_SAMPLING_PROBABILITY=0.001
MAX_TRACES_PER_SECOND=500

# Security Configuration
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRES_IN=24h
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
API_KEY_ENABLED=true
TRACE_ENCRYPTION_ENABLED=false

# Cache Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=12
CACHE_TTL_SECONDS=3600

# Performance Configuration
PROCESSOR_BATCH_SIZE=100
PROCESSOR_BATCH_TIMEOUT=5s
PROCESSOR_QUEUE_SIZE=1000
MAX_CONCURRENT_PROCESSORS=10

# Monitoring Configuration
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
PROMETHEUS_METRICS_ENABLED=true
TRACE_ANALYTICS_ENABLED=true

# Logging Configuration
LOG_LEVEL=INFO
LOG_LEVEL_TRACING=DEBUG
LOG_PATTERN_CONSOLE=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/tracing-config.log

# Service Discovery
EUREKA_SERVER_URL=http://localhost:8761/eureka
EUREKA_INSTANCE_HOSTNAME=localhost

# UI Configuration
JAEGER_UI_ENABLED=true
JAEGER_UI_PORT=16686
JAEGER_UI_BASE_PATH=/jaeger
TRACE_SEARCH_ENABLED=true
TRACE_COMPARISON_ENABLED=true

# Alert Configuration
ALERT_ENABLED=true
HIGH_LATENCY_THRESHOLD_MS=1000
ERROR_RATE_THRESHOLD_PERCENT=5
SPAN_RATE_THRESHOLD_PER_SECOND=10000

# Data Pipeline Configuration
PIPELINE_ENABLED=true
PIPELINE_WORKERS=4
PIPELINE_BUFFER_SIZE=1000
PIPELINE_FLUSH_INTERVAL=30s

# Archive Configuration
ARCHIVE_ENABLED=true
ARCHIVE_THRESHOLD_DAYS=7
ARCHIVE_STORAGE_TYPE=s3
ARCHIVE_BUCKET_NAME=exalt-tracing-archive
ARCHIVE_COMPRESSION_ENABLED=true

# Network Configuration
COLLECTOR_HTTP_PORT=14268
COLLECTOR_GRPC_PORT=14250
AGENT_UDP_PORT=6831
AGENT_COMPACT_PORT=6832

# Instrumentation Configuration
AUTO_INSTRUMENTATION_ENABLED=true
INSTRUMENTATION_LIBRARIES=spring-boot,jdbc,redis,kafka,http-client
CUSTOM_TAGS_ENABLED=true
BAGGAGE_ENABLED=true

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_TRACES_PER_MINUTE=10000
RATE_LIMIT_BURST_SIZE=20000

# JVM Configuration
JAVA_OPTS=-Xmx2g -Xms1g -XX:+UseG1GC -XX:MaxGCPauseMillis=200