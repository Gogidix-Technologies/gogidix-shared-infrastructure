# Analytics Engine Environment Configuration Template
# Copy this file to .env and update the values for your environment

# Service Configuration
SERVER_PORT=8096
SPRING_PROFILES_ACTIVE=dev
SERVICE_NAME=analytics-engine

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=analytics_db
DB_USERNAME=analytics_user
DB_PASSWORD=secure_password
DB_SSL=false
DB_POOL_SIZE=10

# Apache Spark Configuration
SPARK_MASTER=local[*]
SPARK_APP_NAME=ExaltAnalyticsEngine
SPARK_EXECUTOR_MEMORY=2g
SPARK_DRIVER_MEMORY=1g
SPARK_EXECUTOR_CORES=2
SPARK_SQL_WAREHOUSE_DIR=/tmp/spark-warehouse
SPARK_UI_PORT=4040

# Data Lake Configuration
DATA_LAKE_TYPE=hdfs
HDFS_NAMENODE_HOST=localhost
HDFS_NAMENODE_PORT=9000
HDFS_USER=analytics
DATA_LAKE_BASE_PATH=/exalt/analytics

# AWS S3 Configuration (Alternative Data Lake)
S3_DATA_LAKE_ENABLED=false
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=exalt-analytics-data
AWS_S3_REGION=us-east-1

# Apache Kafka Configuration
KAFKA_ENABLED=true
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP_ID=analytics-engine
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=false

# Real-time Analytics Configuration
REALTIME_PROCESSING_ENABLED=true
STREAM_PROCESSING_INTERVAL_MS=1000
WINDOWING_DURATION_SECONDS=60
WATERMARK_DELAY_SECONDS=10

# Batch Analytics Configuration
BATCH_PROCESSING_ENABLED=true
BATCH_SCHEDULE_CRON=0 0 * * * *
BATCH_RETENTION_DAYS=90
BATCH_PARTITION_STRATEGY=daily

# Machine Learning Configuration
ML_ENABLED=true
ML_MODEL_PATH=/app/models
ML_MODEL_UPDATE_ENABLED=true
ML_PREDICTION_THRESHOLD=0.7
ML_FEATURE_ENGINEERING_ENABLED=true

# ClickHouse Configuration
CLICKHOUSE_ENABLED=true
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=analytics
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=

# ElasticSearch Configuration
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX_PREFIX=analytics
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=elastic_password

# Redis Configuration (for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=15
CACHE_TTL_SECONDS=3600

# Metrics Collection Configuration
METRICS_COLLECTION_ENABLED=true
CUSTOM_METRICS_ENABLED=true
BUSINESS_METRICS_ENABLED=true
PERFORMANCE_METRICS_ENABLED=true

# Dashboard Configuration
DASHBOARD_ENABLED=true
DASHBOARD_REFRESH_INTERVAL_SECONDS=30
MAX_DASHBOARD_WIDGETS=20
EXPORT_FORMATS=pdf,excel,csv,json

# Alert Configuration
ALERTING_ENABLED=true
ALERT_EVALUATION_INTERVAL_SECONDS=60
ALERT_CHANNELS=email,slack,webhook
ANOMALY_DETECTION_ENABLED=true

# Data Processing Configuration
MAX_BATCH_SIZE=10000
PARALLEL_PROCESSING_THREADS=10
DATA_VALIDATION_ENABLED=true
DATA_QUALITY_CHECKS_ENABLED=true

# Security Configuration
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRES_IN=24h
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
DATA_ENCRYPTION_ENABLED=true
PII_DETECTION_ENABLED=true

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
QUERY_RATE_LIMIT_PER_MINUTE=100
API_RATE_LIMIT_PER_MINUTE=1000

# Monitoring Configuration
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
PROMETHEUS_METRICS_ENABLED=true
DISTRIBUTED_TRACING_ENABLED=true

# Logging Configuration
LOG_LEVEL=INFO
LOG_LEVEL_ANALYTICS=DEBUG
LOG_LEVEL_SPARK=WARN
LOG_PATTERN_CONSOLE=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/analytics-engine.log

# Service Discovery
EUREKA_SERVER_URL=http://localhost:8761/eureka
EUREKA_INSTANCE_HOSTNAME=localhost

# Data Sources Configuration
DATA_SOURCES_ENABLED=true
DATABASE_SOURCES=postgresql,mysql,mongodb
API_SOURCES=rest,graphql
FILE_SOURCES=csv,json,parquet,avro

# ETL Configuration
ETL_ENABLED=true
ETL_SCHEDULE_ENABLED=true
ETL_ERROR_THRESHOLD_PERCENT=5
ETL_RETRY_ATTEMPTS=3

# Report Generation Configuration
REPORT_GENERATION_ENABLED=true
SCHEDULED_REPORTS_ENABLED=true
REPORT_STORAGE_PATH=/var/analytics/reports
REPORT_RETENTION_DAYS=90

# Performance Configuration
CONNECTION_POOL_SIZE=20
CONNECTION_TIMEOUT_MS=10000
QUERY_TIMEOUT_MS=300000
MAX_CONCURRENT_QUERIES=50

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
INCREMENTAL_BACKUP_ENABLED=true

# Feature Flags
FEATURE_PREDICTIVE_ANALYTICS=true
FEATURE_COHORT_ANALYSIS=true
FEATURE_FUNNEL_ANALYSIS=true
FEATURE_RETENTION_ANALYSIS=true
FEATURE_AB_TESTING=true

# JVM Configuration
JAVA_OPTS=-Xmx4g -Xms2g -XX:+UseG1GC -XX:MaxGCPauseMillis=200